# Компьютерная графика

Репозиторий с материалами для курса компьютерной графики.
Содержимое исторически имеет корни в репозитории [vk_graphics_basic](https://github.com/msu-graphics-group/vk_graphics_basic), однако на данный момент почти весь код был переписан практически с нуля.


## Начало работы

Для начала работы требуется установка достаточно свежих версий [Vulkan SDK](https://vulkan.lunarg.com) (1.3.275+) и [CMake](https://cmake.org/) (3.30+).
Если вы способны самостоятельно установить их, можете смело пропускать следующие 2 подраздела.

### Windows
Мы живём в удивительное время, поэтому на Windows для установки CMake достаточно написать в консоль команду `winget install cmake`, либо `winget upgrade cmake` если вы уже устанавливали его до этого.

Vulkan SDK же в пакетах winget слишком старой версии, поэтому рекомендуется скачать его с сайта LunarG: https://vulkan.lunarg.com/sdk/home#windows.

### Linux-based
CMake 3.30 слишком новый для не bleeding-edge дистрибутивов, поэтому на Ubuntu вам придётся добавить репозиторий Kitware по инструкции с https://apt.kitware.com и только после этого произнести заветное заклинание `apt install cmake`.
На Arch же `pacman -S cmake` сразу поставит достаточно свежую версию.
Согласно информации из проверенных источников, сломать себе систему установив более свежую версию CMake чем есть в репозиториях дистрибутива **не возможно**.
На других дистрибутивах предлагается разбираться самостоятельно, как вариант, оказывается, самый свежий CMake можно установить [через pip](https://pypi.org/project/cmake/).

Vulkan SDK ставится на Ubuntu аналогично, через добавление репозитория LunarG: https://vulkan.lunarg.com/sdk/home#linux.
На Arch вновь есть готовый пакет, `vulkan-devel` (не проверялось).
На других дистрибутивах придётся ставить через tarball архив с сайта.


### Сборка и запуск
Далее достаточно открыть папку репозитория в вашем любимом редакторе с поддержкой CMake-проектов (Vscode, Visual Studio, Clion, ...), либо сконфигурировать проект при помощи CMake вручную в папку `build`, и вуаля.
Зависимости подкачиваются автоматически при помощи [CPM.cmake](https://github.com/cpm-cmake/CPM.cmake), семплы находящиеся в папке `samples` должны собираться и работать из коробки на Windows и основанных на Linux системах.




## Про систему сборки

Для компиляции шейдеров используется CMake.
При сборки любого семпла шейдера собираются автоматически, а также в семплах реализован hot-reload шейдеров по кнопке.
При компиляции таргетов, пути до папок с различными ресурсами (скомпилированные шейдера, сцены) "вшиваются" прямо в плюсовый код при помощи дефайнов.
Это означает, что запускаемые файлы семплов **нельзя** куда-то переложить и рассчитывать, что оно будет работать, обязательно нужно чтобы при запуске все требуемые ресурсы находились по тем абсолютным путям, по которым они лежали во время компиляции.
Однако, эту проблему можно при желании побороть при помощи cmake install и различных хитростей.
Пулл-реквесты приветствуются, но для учебных целей текущих возможностей должно быть достаточно.


## Ассеты

3D-модели используемые для тестов предоставляются с соответствующими лицензиями и атрибуциями, см. директории конкретных сцен.
